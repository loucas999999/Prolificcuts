---
import "../styles/global.css";
---

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <meta name="generator" content={Astro.generator} />
    <title>Document</title>
    <style>
      /* Bebas Neue */
      @import url("https://fonts.googleapis.com/css2?family=Bebas+Neue&display=swap");

      header {
        position: relative;
        left: 0;
        top: 0;
        width: 1005;
        height: 80px;
      }

      header h4 {
        position: absolute;
        left: 10%;
        bottom: 1rem;
        font-size: 1.6rem;
      }

      /* Splash Screen  */
      .intro {
        position: fixed;
        z-index: 1;
        left: 0;
        top: 0;
        width: 100%;
        height: 100vh;
        background-color: black;
        transition: 1s;
      }

      .logo-header {
        font-family: "Bebas Neue", sans-serif;
        position: absolute;
        top: 40%;
        left: 50%;
        transform: translate(-50%, -50%);
        color: white;
      }

      .logo {
        position: relative;
        display: inline-block;
        bottom: -20px;
        opacity: 0;
      }

      .logo.active {
        bottom: 0;
        opacity: 1;
        transition: ease-in-out 0.5s;
      }

      .logo.fade {
        bottom: 150px;
        opacity: 0;
        transition: ease-in-out 0.5s;
      }
    </style>
  </head>
  <body>
    <div class="intro">
      <h1 class="logo-header">
        <span class="logo">Pro</span><span>lific.</span>
      </h1>
    </div>
  </body>
</html>

<script>
  let intro = document.querySelector(".intro");
  let logo = document.querySelector(".logo-header");
  let logoSpan = document.querySelectorAll(".logo");

  window.addEventListener("DOMContentLoaded", () => {
    if (!localStorage.getItem('introPlayed')) {
      setTimeout(() => {
        logoSpan.forEach((span, idx) => {
          setTimeout(
            () => {
              span.classList.add("active");
            },
            (idx + 1) * 400
          );
        });

        setTimeout(() => {
          logoSpan.forEach((span, idx) => {
            setTimeout(
              () => {
                span.classList.remove("active");
                span.classList.add("fade");
              },
              (idx + 1) * 50
            );
          });
        }, 2000);

        setTimeout(() => {
          intro.style.top = "-100vh";
          localStorage.setItem('introPlayed', 'true');
        }, 2300);
      });
    } else {
      intro.style.display = 'none';
    }
  });
</script>

